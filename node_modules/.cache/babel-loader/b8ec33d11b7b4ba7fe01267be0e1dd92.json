{"ast":null,"code":"import _defineProperty from\"D:/WebReact/fundclient/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"D:/WebReact/fundclient/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"D:/WebReact/fundclient/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"D:/WebReact/fundclient/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"D:/WebReact/fundclient/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"D:/WebReact/fundclient/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{connect}from'react-redux';import{withRouter}from'react-router-dom';import{registerUser}from'../actions/authentication';import classnames from'classnames';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Register=/*#__PURE__*/function(_Component){_inherits(Register,_Component);var _super=_createSuper(Register);function Register(){var _this;_classCallCheck(this,Register);_this=_super.call(this);_this.state={name:'',email:'',password:'',password_confirm:'',errors:{}};_this.handleInputChange=_this.handleInputChange.bind(_assertThisInitialized(_this));_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));return _this;}_createClass(Register,[{key:\"handleInputChange\",value:function handleInputChange(e){this.setState(_defineProperty({},e.target.name,e.target.value));}},{key:\"handleSubmit\",value:function handleSubmit(e){e.preventDefault();var user={name:this.state.name,email:this.state.email,password:this.state.password,password_confirm:this.state.password_confirm};this.props.registerUser(user,this.props.history);}},{key:\"componentWillReceiveProps\",value:function componentWillReceiveProps(nextProps){if(nextProps.auth.isAuthenticated){this.props.history.push('/');}if(nextProps.errors){this.setState({errors:nextProps.errors});}}},{key:\"componentDidMount\",value:function componentDidMount(){if(this.props.auth.isAuthenticated){this.props.history.push('/');}}},{key:\"render\",value:function render(){var errors=this.state.errors;return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",style:{marginTop:'50px',width:'700px'},children:[/*#__PURE__*/_jsx(\"h2\",{style:{marginBottom:'40px'},children:\"Registration\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Name\",className:classnames('form-control form-control-lg',{'is-invalid':errors.name}),name:\"name\",onChange:this.handleInputChange,value:this.state.name}),errors.name&&/*#__PURE__*/_jsx(\"div\",{className:\"invalid-feedback\",children:errors.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Email\",className:classnames('form-control form-control-lg',{'is-invalid':errors.email}),name:\"email\",onChange:this.handleInputChange,value:this.state.email}),errors.email&&/*#__PURE__*/_jsx(\"div\",{className:\"invalid-feedback\",children:errors.email})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Password\",className:classnames('form-control form-control-lg',{'is-invalid':errors.password}),name:\"password\",onChange:this.handleInputChange,value:this.state.password}),errors.password&&/*#__PURE__*/_jsx(\"div\",{className:\"invalid-feedback\",children:errors.password})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Confirm Password\",className:classnames('form-control form-control-lg',{'is-invalid':errors.password_confirm}),name:\"password_confirm\",onChange:this.handleInputChange,value:this.state.password_confirm}),errors.password_confirm&&/*#__PURE__*/_jsx(\"div\",{className:\"invalid-feedback\",children:errors.password_confirm})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"Register User\"})})]})]});}}]);return Register;}(Component);var mapStateToProps=function mapStateToProps(state){return{auth:state.auth,errors:state.errors};};export default connect(mapStateToProps,{registerUser:registerUser})(withRouter(Register));","map":{"version":3,"sources":["D:/WebReact/fundclient/src/components/Register.js"],"names":["React","Component","connect","withRouter","registerUser","classnames","Register","state","name","email","password","password_confirm","errors","handleInputChange","bind","handleSubmit","e","setState","target","value","preventDefault","user","props","history","nextProps","auth","isAuthenticated","push","marginTop","width","marginBottom","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { registerUser } from '../actions/authentication';\r\nimport classnames from 'classnames';\r\n\r\nclass Register extends Component {\r\n\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            name: '',\r\n            email: '',\r\n            password: '',\r\n            password_confirm: '',\r\n            errors: {}\r\n        }\r\n        this.handleInputChange = this.handleInputChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n\r\n    handleInputChange(e) {\r\n        this.setState({\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n    handleSubmit(e) {\r\n        e.preventDefault();\r\n        const user = {\r\n            name: this.state.name,\r\n            email: this.state.email,\r\n            password: this.state.password,\r\n            password_confirm: this.state.password_confirm\r\n        }\r\n        this.props.registerUser(user, this.props.history);\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        if(nextProps.auth.isAuthenticated) {\r\n            this.props.history.push('/')\r\n        }\r\n        if(nextProps.errors) {\r\n            this.setState({\r\n                errors: nextProps.errors\r\n            });\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        if(this.props.auth.isAuthenticated) {\r\n            this.props.history.push('/');\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { errors } = this.state;\r\n        return(\r\n        <div className=\"container\" style={{ marginTop: '50px', width: '700px'}}>\r\n            <h2 style={{marginBottom: '40px'}}>Registration</h2>\r\n            <form onSubmit={ this.handleSubmit }>\r\n                <div className=\"form-group\">\r\n                    <input\r\n                    type=\"text\"\r\n                    placeholder=\"Name\"\r\n                    className={classnames('form-control form-control-lg', {\r\n                        'is-invalid': errors.name\r\n                    })}\r\n                    name=\"name\"\r\n                    onChange={ this.handleInputChange }\r\n                    value={ this.state.name }\r\n                    />\r\n                    {errors.name && (<div className=\"invalid-feedback\">{errors.name}</div>)}\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <input\r\n                    type=\"email\"\r\n                    placeholder=\"Email\"\r\n                    className={classnames('form-control form-control-lg', {\r\n                        'is-invalid': errors.email\r\n                    })}\r\n                    name=\"email\"\r\n                    onChange={ this.handleInputChange }\r\n                    value={ this.state.email }\r\n                    />\r\n                    {errors.email && (<div className=\"invalid-feedback\">{errors.email}</div>)}\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <input\r\n                    type=\"password\"\r\n                    placeholder=\"Password\"\r\n                    className={classnames('form-control form-control-lg', {\r\n                        'is-invalid': errors.password\r\n                    })}\r\n                    name=\"password\"\r\n                    onChange={ this.handleInputChange }\r\n                    value={ this.state.password }\r\n                    />\r\n                    {errors.password && (<div className=\"invalid-feedback\">{errors.password}</div>)}\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <input\r\n                    type=\"password\"\r\n                    placeholder=\"Confirm Password\"\r\n                    className={classnames('form-control form-control-lg', {\r\n                        'is-invalid': errors.password_confirm\r\n                    })}\r\n                    name=\"password_confirm\"\r\n                    onChange={ this.handleInputChange }\r\n                    value={ this.state.password_confirm }\r\n                    />\r\n                    {errors.password_confirm && (<div className=\"invalid-feedback\">{errors.password_confirm}</div>)}\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <button type=\"submit\" className=\"btn btn-primary\">\r\n                        Register User\r\n                    </button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n        )\r\n    }\r\n}\r\n\r\nRegister.propTypes = {\r\n    registerUser: PropTypes.func.isRequired,\r\n    auth: PropTypes.object.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    auth: state.auth,\r\n    errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps,{ registerUser })(withRouter(Register))"]},"metadata":{},"sourceType":"module"}