{"ast":null,"code":"import _classCallCheck from\"D:/WebReact/fundclient/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"D:/WebReact/fundclient/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"D:/WebReact/fundclient/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"D:/WebReact/fundclient/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import MainInput from'../MainInput/MainInput';import Sider from'../Sider/Sider';import EditableTable from'../Table/TableDataColums';import UpTable from'../UpTable/UpTable';import{Input}from'antd';import'./Layout.css';import Uppload from'../Uppload/Uppload';import ButtonSize from'../Download/Download';import IdInput from'../IdInput/IdInput';import http from\"../http-common\";import DocTable from'../DocTable/DocTable';import ColumnInput from'../ColumnInput/ColumnInput';import NamingTable from'../NamingTable/NamingTable';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var fileDownload=require('react-file-download');var Layout=/*#__PURE__*/function(_Component){_inherits(Layout,_Component);var _super=_createSuper(Layout);function Layout(props){var _this;_classCallCheck(this,Layout);_this=_super.call(this,props);_this.setPreffix=function(value){console.log(value);_this.setState({preffix:value});};_this.setPostfix=function(value){console.log(value);_this.setState({postfix:value});};_this.setColumnName=function(value){console.log(value);_this.setState({columnName:value});console.log(\"kek\");console.log(_this.state.columnName);};_this.setTemplateId=function(value){_this.setState({templateId:value});console.log(_this.state.templateId);};_this.setResultArray=function(resultArray){_this.setState({resultArray:resultArray});var obj=resultArray[0];for(var i=0;i<obj.length;i++){var key=Object.values(obj[i])[0];var object={value:key,label:key};_this.state.nameArray.push(object);}console.log(_this.state.nameArray);};_this.printTemplateId=function(){console.log(_this.state);http.post(\"/prejson\",{data:_this.state},{responseType:\"arraybuffer\"}).then(function(res){console.log(res);console.log(res.data);fileDownload(res.data,'filename.zip');});console.log(_this.state.zipFile);};_this.style={display:props.display};_this.state={templateId:'',resultArray:[],zipFile:null,nameArray:[],columnName:'',preffix:'',postfix:''};return _this;}_createClass(Layout,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{style:this.style,children:/*#__PURE__*/_jsxs(\"div\",{className:\"asmain\",children:[/*#__PURE__*/_jsx(\"aside\",{children:/*#__PURE__*/_jsx(Sider,{})}),/*#__PURE__*/_jsxs(\"main\",{children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h3\",{children:\"Upload Excel/CSV with data\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"uppload\",children:/*#__PURE__*/_jsx(Uppload,{onUpload:this.setResultArray})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h3\",{children:\"Data Preview\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(DocTable,{className:\"docContainer\",onGet:this.state.resultArray})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h3\",{children:\"Input PDF template #\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"pdftemplate\",children:/*#__PURE__*/_jsx(IdInput,{setTemplateId:this.setTemplateId})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h3\",{children:\"Choose PDF's Naming Column\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(NamingTable,{nameArray:this.state.nameArray,setColumnName:this.setColumnName,setPreffix:this.setPreffix,setPostfix:this.setPostfix,resultArray:this.state.resultArray})}),/*#__PURE__*/_jsx(\"div\",{className:\"nameInput\",style:{marginLeft:20,width:200}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"download\",style:{marginLeft:20},children:/*#__PURE__*/_jsx(ButtonSize,{onClick:this.printTemplateId,disabled:this.state.templateId.length!==6||this.state.resultArray.length===0||this.state.columnName.length===0})})]})]})});}}]);return Layout;}(Component);export default Layout;","map":{"version":3,"sources":["D:/WebReact/fundclient/src/components/Layout/Layout.js"],"names":["React","Component","MainInput","Sider","EditableTable","UpTable","Input","Uppload","ButtonSize","IdInput","http","DocTable","ColumnInput","NamingTable","fileDownload","require","Layout","props","setPreffix","value","console","log","setState","preffix","setPostfix","postfix","setColumnName","columnName","state","setTemplateId","templateId","setResultArray","resultArray","obj","i","length","key","Object","values","object","label","nameArray","push","printTemplateId","post","data","responseType","then","res","zipFile","style","display","marginLeft","width"],"mappings":"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","sourcesContent":["\r\nimport React, { Component } from 'react';\r\nimport MainInput from '../MainInput/MainInput';\r\nimport Sider from '../Sider/Sider';\r\nimport EditableTable from '../Table/TableDataColums';\r\nimport UpTable from '../UpTable/UpTable';\r\nimport { Input } from 'antd';\r\nimport './Layout.css';\r\nimport Uppload from '../Uppload/Uppload';\r\nimport ButtonSize from '../Download/Download';\r\nimport IdInput from '../IdInput/IdInput';\r\nimport http from \"../http-common\";\r\nimport DocTable from '../DocTable/DocTable';\r\nimport ColumnInput from '../ColumnInput/ColumnInput';\r\nimport NamingTable from '../NamingTable/NamingTable';\r\nvar fileDownload = require('react-file-download');\r\n\r\n\r\nclass Layout extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.style = {\r\n            display: props.display\r\n\r\n        }\r\n\r\n        this.state = {\r\n            templateId: '',\r\n            resultArray: [],\r\n            zipFile: null,\r\n            nameArray: [],\r\n            columnName: '',\r\n            preffix:'',\r\n            postfix:'',\r\n\r\n        }\r\n    }\r\n    setPreffix=(value)=>{\r\n        console.log(value);\r\n        this.setState({preffix: value})\r\n    }\r\n    setPostfix=(value)=>{\r\n        console.log(value);\r\n        this.setState({postfix: value})\r\n    }\r\n\r\n    setColumnName = (value) => {\r\n        console.log(value);\r\n        this.setState({ columnName: value });\r\n        console.log(\"kek\");\r\n        console.log(this.state.columnName);\r\n    }\r\n\r\n    setTemplateId = (value) => {\r\n        this.setState({ templateId: value });\r\n        console.log(this.state.templateId);\r\n    }\r\n    setResultArray = (resultArray) => {\r\n        this.setState({ resultArray });\r\n       let obj = resultArray[0];\r\n        for (let i = 0; i < obj.length; i++) {\r\n            let key = Object.values(obj[i])[0];\r\n            let object = { value: key, label: key }\r\n\r\n            this.state.nameArray.push(object);\r\n        }\r\n\r\n        console.log(this.state.nameArray);\r\n    }\r\n\r\n\r\n    printTemplateId = () => {\r\n        console.log(this.state);\r\n        http.post(\"/prejson\", { data: this.state }, { responseType: \"arraybuffer\" }\r\n        ).then(res => {\r\n            console.log(res);\r\n            console.log(res.data);\r\n            fileDownload(res.data, 'filename.zip');\r\n\r\n\r\n        })\r\n        console.log(this.state.zipFile);\r\n\r\n    };\r\n\r\n\r\n\r\n\r\n    render() {\r\n        return (\r\n\r\n            <div style={this.style}>\r\n                {/* <header ></header> */}\r\n\r\n                <div className=\"asmain\">\r\n\r\n                    <aside >\r\n                        <Sider />\r\n                    </aside>\r\n                    <main>\r\n                        {/* <br/>\r\n            <h3>Choose Fund</h3>\r\n            <br/>\r\n            <div className=\"mainInput\">\r\n                <MainInput />\r\n                <Input placeholder=\"New fund name\"  style={{\r\n                        marginLeft: 20,\r\n                        width: 200,\r\n                    }}/>\r\n            </div>\r\n            <br/>\r\n            <h3>Choose document type</h3>\r\n            <br/>\r\n            <div className=\"tableup\" >\r\n                <UpTable />\r\n                </div>\r\n\r\n            <h3>Specify data columns</h3>\r\n                <br/>  */  }      \r\n                {/* <div className=\"tableedit\">\r\n                <EditableTable />\r\n                </div>  */}\r\n                        <br />\r\n                        <h3>Upload Excel/CSV with data</h3>\r\n                        <br />\r\n                        <div className=\"uppload\">\r\n                            <Uppload onUpload={this.setResultArray} />\r\n\r\n                        </div>\r\n\r\n                        <br />\r\n                        <h3>Data Preview</h3>\r\n                        <div><DocTable className=\"docContainer\" onGet={this.state.resultArray} /></div>\r\n                        <br />\r\n\r\n\r\n\r\n                        \r\n                        <h3>Input PDF template #</h3>\r\n                        <br />\r\n\r\n                        <br />\r\n                        <div className=\"pdftemplate\">\r\n                            <IdInput setTemplateId={this.setTemplateId} />\r\n                        </div>\r\n                        <br />\r\n                        <h3>Choose PDF's Naming Column</h3>\r\n                        <br />\r\n                        <br />\r\n                        <div>\r\n                            <NamingTable nameArray={this.state.nameArray} setColumnName={this.setColumnName} setPreffix={this.setPreffix} setPostfix={this.setPostfix} resultArray={this.state.resultArray}/>\r\n                        </div>\r\n\r\n                        <div className=\"nameInput\" style={{\r\n                            marginLeft: 20,\r\n                            width: 200,\r\n                        }}>\r\n                            {/* <ColumnInput onName={this.state.nameArray} setColumnName={this.setColumnName} /> */}\r\n                        </div>\r\n\r\n\r\n\r\n\r\n                        <br />\r\n                        <div className=\"download\" style={{\r\n                            marginLeft: 20,\r\n                        }}>\r\n                            <ButtonSize onClick={this.printTemplateId} disabled={this.state.templateId.length !== 6 || this.state.resultArray.length === 0 || this.state.columnName.length===0 } />\r\n                            \r\n                        </div>\r\n\r\n\r\n                    </main>\r\n                </div>\r\n            </div>\r\n\r\n\r\n        )\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\nexport default Layout;"]},"metadata":{},"sourceType":"module"}