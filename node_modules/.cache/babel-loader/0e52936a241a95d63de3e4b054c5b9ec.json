{"ast":null,"code":"import _defineProperty from\"D:/WebReact/fundclient/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"D:/WebReact/fundclient/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"D:/WebReact/fundclient/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"D:/WebReact/fundclient/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"D:/WebReact/fundclient/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"D:/WebReact/fundclient/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{connect}from'react-redux';import{loginUser}from'../actions/authentication';import classnames from'classnames';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);var _super=_createSuper(Login);function Login(){var _this;_classCallCheck(this,Login);_this=_super.call(this);_this.state={email:'',password:'',errors:{}};_this.handleInputChange=_this.handleInputChange.bind(_assertThisInitialized(_this));_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));return _this;}_createClass(Login,[{key:\"handleInputChange\",value:function handleInputChange(e){this.setState(_defineProperty({},e.target.name,e.target.value));}},{key:\"handleSubmit\",value:function handleSubmit(e){e.preventDefault();var user={email:this.state.email,password:this.state.password};this.props.loginUser(user);}},{key:\"componentDidMount\",value:function componentDidMount(){if(this.props.auth.isAuthenticated){this.props.history.push('/dashboard');}}},{key:\"componentWillReceiveProps\",value:function componentWillReceiveProps(nextProps){if(nextProps.auth.isAuthenticated){this.props.history.push('/dashboard');}if(nextProps.errors){this.setState({errors:nextProps.errors});}}},{key:\"render\",value:function render(){var errors=this.state.errors;return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",style:{marginTop:'50px',width:'700px'},children:[/*#__PURE__*/_jsx(\"h2\",{style:{marginBottom:'40px'},children:\"Login\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Email\",className:classnames('form-control form-control-lg',{'is-invalid':errors.email}),name:\"email\",onChange:this.handleInputChange,value:this.state.email}),errors.email&&/*#__PURE__*/_jsx(\"div\",{className:\"invalid-feedback\",children:errors.email})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Password\",className:classnames('form-control form-control-lg',{'is-invalid':errors.password}),name:\"password\",onChange:this.handleInputChange,value:this.state.password}),errors.password&&/*#__PURE__*/_jsx(\"div\",{className:\"invalid-feedback\",children:errors.password})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"Login User\"})})]})]});}}]);return Login;}(Component);var mapStateToProps=function mapStateToProps(state){return{auth:state.auth,errors:state.errors};};export default connect(mapStateToProps,{loginUser:loginUser})(Login);","map":{"version":3,"sources":["D:/WebReact/fundclient/src/components/Login.js"],"names":["React","Component","connect","loginUser","classnames","Login","state","email","password","errors","handleInputChange","bind","handleSubmit","e","setState","target","name","value","preventDefault","user","props","auth","isAuthenticated","history","push","nextProps","marginTop","width","marginBottom","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { loginUser } from '../actions/authentication';\r\nimport classnames from 'classnames';\r\n\r\nclass Login extends Component {\r\n\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            email: '',\r\n            password: '',\r\n            errors: {}\r\n        }\r\n        this.handleInputChange = this.handleInputChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n\r\n    handleInputChange(e) {\r\n        this.setState({\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n    handleSubmit(e) {\r\n        e.preventDefault();\r\n        const user = {\r\n            email: this.state.email,\r\n            password: this.state.password,\r\n        }\r\n        this.props.loginUser(user);\r\n    }\r\n\r\n    componentDidMount() {\r\n        if(this.props.auth.isAuthenticated) {\r\n            this.props.history.push('/dashboard');\r\n        }\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        if(nextProps.auth.isAuthenticated) {\r\n            this.props.history.push('/dashboard')\r\n        }\r\n        if(nextProps.errors) {\r\n            this.setState({\r\n                errors: nextProps.errors\r\n            });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const {errors} = this.state;\r\n        return(\r\n        <div className=\"container\" style={{ marginTop: '50px', width: '700px'}}>\r\n            <h2 style={{marginBottom: '40px'}}>Login</h2>\r\n            <form onSubmit={ this.handleSubmit }>\r\n                <div className=\"form-group\">\r\n                    <input\r\n                    type=\"email\"\r\n                    placeholder=\"Email\"\r\n                    className={classnames('form-control form-control-lg', {\r\n                        'is-invalid': errors.email\r\n                    })}\r\n                    name=\"email\"\r\n                    onChange={ this.handleInputChange }\r\n                    value={ this.state.email }\r\n                    />\r\n                    {errors.email && (<div className=\"invalid-feedback\">{errors.email}</div>)}\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <input\r\n                    type=\"password\"\r\n                    placeholder=\"Password\"\r\n                    className={classnames('form-control form-control-lg', {\r\n                        'is-invalid': errors.password\r\n                    })} \r\n                    name=\"password\"\r\n                    onChange={ this.handleInputChange }\r\n                    value={ this.state.password }\r\n                    />\r\n                    {errors.password && (<div className=\"invalid-feedback\">{errors.password}</div>)}\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <button type=\"submit\" className=\"btn btn-primary\">\r\n                        Login User\r\n                    </button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n        )\r\n    }\r\n}\r\n\r\nLogin.propTypes = {\r\n    loginUser: PropTypes.func.isRequired,\r\n    auth: PropTypes.object.isRequired,\r\n    errors: PropTypes.object.isRequired\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    auth: state.auth,\r\n    errors: state.errors\r\n})\r\n\r\nexport  default connect(mapStateToProps, { loginUser })(Login)"]},"metadata":{},"sourceType":"module"}