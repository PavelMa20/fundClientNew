{"ast":null,"code":"import _toConsumableArray from\"D:/WebReact/FundTest/fundclient/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"D:/WebReact/FundTest/fundclient/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"D:/WebReact/FundTest/fundclient/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"D:/WebReact/FundTest/fundclient/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"D:/WebReact/FundTest/fundclient/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _regeneratorRuntime from\"D:/WebReact/FundTest/fundclient/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/WebReact/FundTest/fundclient/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"D:/WebReact/FundTest/fundclient/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"D:/WebReact/FundTest/fundclient/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"D:/WebReact/FundTest/fundclient/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectWithoutProperties from\"D:/WebReact/FundTest/fundclient/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import React,{useContext,useState,useEffect,useRef}from'react';import'antd/dist/antd.css';import'./Table.css';import{Table,Input,Button,Popconfirm,Form,Select}from'antd';import{DeleteOutlined}from'@ant-design/icons';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Option=Select.Option;var EditableContext=/*#__PURE__*/React.createContext(null);var EditableRow=function EditableRow(_ref){var index=_ref.index,props=_objectWithoutProperties(_ref,[\"index\"]);var _Form$useForm=Form.useForm(),_Form$useForm2=_slicedToArray(_Form$useForm,1),form=_Form$useForm2[0];return/*#__PURE__*/_jsx(Form,{form:form,component:false,children:/*#__PURE__*/_jsx(EditableContext.Provider,{value:form,children:/*#__PURE__*/_jsx(\"tr\",_objectSpread({},props))})});};var EditableCell=function EditableCell(_ref2){var title=_ref2.title,editable=_ref2.editable,children=_ref2.children,dataIndex=_ref2.dataIndex,record=_ref2.record,handleSave=_ref2.handleSave,restProps=_objectWithoutProperties(_ref2,[\"title\",\"editable\",\"children\",\"dataIndex\",\"record\",\"handleSave\"]);var _useState=useState(false),_useState2=_slicedToArray(_useState,2),editing=_useState2[0],setEditing=_useState2[1];var inputRef=useRef(null);var form=useContext(EditableContext);useEffect(function(){if(editing){inputRef.current.focus();}},[editing]);var toggleEdit=function toggleEdit(){setEditing(!editing);form.setFieldsValue(_defineProperty({},dataIndex,record[dataIndex]));};var save=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var values;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return form.validateFields();case 3:values=_context.sent;toggleEdit();handleSave(_objectSpread(_objectSpread({},record),values));_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log('Save failed:',_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function save(){return _ref3.apply(this,arguments);};}();var childNode=children;if(editable){childNode=editing?/*#__PURE__*/_jsx(Form.Item,{style:{margin:0},name:dataIndex,rules:[{required:true,message:\"\".concat(title,\" is required.\")}],children:/*#__PURE__*/_jsx(Input,{ref:inputRef,onPressEnter:save,onBlur:save})}):/*#__PURE__*/_jsx(\"div\",{className:\"editable-cell-value-wrap\",style:{paddingRight:24},onClick:toggleEdit,children:children});}return/*#__PURE__*/_jsx(\"td\",_objectSpread(_objectSpread({},restProps),{},{children:childNode}));};var EditableTable=/*#__PURE__*/function(_React$Component){_inherits(EditableTable,_React$Component);var _super=_createSuper(EditableTable);function EditableTable(props){var _this;_classCallCheck(this,EditableTable);_this=_super.call(this,props);_this.handleDelete=function(key){var dataSource=_toConsumableArray(_this.state.dataSource);_this.setState({dataSource:dataSource.filter(function(item){return item.key!==key;})});};_this.handleAdd=function(){var _this$state=_this.state,count=_this$state.count,dataSource=_this$state.dataSource;var newData={key:count,name:\"Edward King \".concat(count),age:'32'};_this.setState({dataSource:[].concat(_toConsumableArray(dataSource),[newData]),count:count+1});};_this.handleSave=function(row){var newData=_toConsumableArray(_this.state.dataSource);var index=newData.findIndex(function(item){return row.key===item.key;});var item=newData[index];newData.splice(index,1,_objectSpread(_objectSpread({},item),row));_this.setState({dataSource:newData});};_this.columns=[{title:'Column name',dataIndex:'ColumnName',width:'30%',editable:true},{title:'Data type',dataIndex:'DataType',render:function render(){return/*#__PURE__*/_jsx(\"div\",{className:\"site-input-group-wrapper\",children:/*#__PURE__*/_jsxs(Select,{defaultValue:\"Abc\",children:[/*#__PURE__*/_jsx(Option,{value:\"Abc\",children:\"Abc\"}),/*#__PURE__*/_jsx(Option,{value:\"123\",children:\"123\"}),/*#__PURE__*/_jsx(Option,{value:\"%\",children:\"%\"})]})});}},{title:'Actions',dataIndex:'operation',render:function render(_,record){return _this.state.dataSource.length>=1?/*#__PURE__*/_jsx(Popconfirm,{title:\"Sure to delete?\",onConfirm:function onConfirm(){return _this.handleDelete(record.key);},children:/*#__PURE__*/_jsx(\"a\",{children:/*#__PURE__*/_jsx(DeleteOutlined,{})})}):null;}}];_this.state={dataSource:[{key:'0',ColumnName:'Investor #',DataType:'Abc'},{key:'1',ColumnName:'Investor Name',DataType:'Abc'}],count:2};return _this;}_createClass(EditableTable,[{key:\"render\",value:function render(){var _this2=this;var dataSource=this.state.dataSource;var components={body:{row:EditableRow,cell:EditableCell}};var columns=this.columns.map(function(col){if(!col.editable){return col;}return _objectSpread(_objectSpread({},col),{},{onCell:function onCell(record){return{record:record,editable:col.editable,dataIndex:col.dataIndex,title:col.title,handleSave:_this2.handleSave};}});});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Table,{components:components,rowClassName:function rowClassName(){return'editable-row';},bordered:true,dataSource:dataSource,columns:columns,pagination:{defaultPageSize:10,hideOnSinglePage:true},style:{margin:0}}),/*#__PURE__*/_jsx(Button,{onClick:this.handleAdd,type:\"primary\",style:{marginLeft:0,marginTop:10},children:\"Add a row\"})]});}}]);return EditableTable;}(React.Component);export default EditableTable;","map":{"version":3,"sources":["D:/WebReact/FundTest/fundclient/src/components/Table/TableDataColums.js"],"names":["React","useContext","useState","useEffect","useRef","Table","Input","Button","Popconfirm","Form","Select","DeleteOutlined","Option","EditableContext","createContext","EditableRow","index","props","useForm","form","EditableCell","title","editable","children","dataIndex","record","handleSave","restProps","editing","setEditing","inputRef","current","focus","toggleEdit","setFieldsValue","save","validateFields","values","console","log","childNode","margin","required","message","paddingRight","EditableTable","handleDelete","key","dataSource","state","setState","filter","item","handleAdd","count","newData","name","age","row","findIndex","splice","columns","width","render","_","length","ColumnName","DataType","components","body","cell","map","col","onCell","defaultPageSize","hideOnSinglePage","marginLeft","marginTop","Component"],"mappings":"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","sourcesContent":["\r\nimport React, { useContext, useState, useEffect, useRef } from 'react';\r\nimport 'antd/dist/antd.css';\r\nimport './Table.css';\r\nimport { Table, Input, Button, Popconfirm, Form, Select } from 'antd';\r\nimport {DeleteOutlined } from '@ant-design/icons';\r\nconst { Option } = Select;\r\n\r\n\r\n\r\nconst EditableContext = React.createContext(null);\r\n\r\nconst EditableRow = ({ index, ...props }) => {\r\n    const [form] = Form.useForm();\r\n    return (\r\n        <Form form={form} component={false}>\r\n            <EditableContext.Provider value={form}>\r\n                <tr {...props} />\r\n            </EditableContext.Provider>\r\n        </Form>\r\n    );\r\n};\r\n\r\nconst EditableCell = ({\r\n    title,\r\n    editable,\r\n    children,\r\n    dataIndex,\r\n    record,\r\n    handleSave,\r\n    ...restProps\r\n}) => {\r\n    const [editing, setEditing] = useState(false);\r\n    const inputRef = useRef(null);\r\n    const form = useContext(EditableContext);\r\n    useEffect(() => {\r\n        if (editing) {\r\n            inputRef.current.focus();\r\n        }\r\n    }, [editing]);\r\n\r\n    const toggleEdit = () => {\r\n        setEditing(!editing);\r\n        form.setFieldsValue({\r\n            [dataIndex]: record[dataIndex],\r\n        });\r\n    };\r\n\r\n    const save = async () => {\r\n        try {\r\n            const values = await form.validateFields();\r\n            toggleEdit();\r\n            handleSave({ ...record, ...values });\r\n        } catch (errInfo) {\r\n            console.log('Save failed:', errInfo);\r\n        }\r\n    };\r\n\r\n    let childNode = children;\r\n\r\n    if (editable) {\r\n        childNode = editing ? (\r\n            <Form.Item\r\n                style={{\r\n                    margin: 0,\r\n                }}\r\n                name={dataIndex}\r\n                rules={[\r\n                    {\r\n                        required: true,\r\n                        message: `${title} is required.`,\r\n                    },\r\n                ]}\r\n            >\r\n                <Input ref={inputRef} onPressEnter={save} onBlur={save} />\r\n            </Form.Item>\r\n        ) : (\r\n            <div\r\n                className=\"editable-cell-value-wrap\"\r\n                style={{\r\n                    paddingRight: 24,\r\n                }}\r\n                onClick={toggleEdit}\r\n            >\r\n                {children}\r\n            </div>\r\n        );\r\n    }\r\n\r\n\r\n    return <td {...restProps}>{childNode}</td>;\r\n};\r\n\r\nclass EditableTable extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.columns = [\r\n            {\r\n                title: 'Column name',\r\n                dataIndex: 'ColumnName',\r\n                width: '30%',\r\n                editable: true,\r\n            },\r\n            {\r\n                title: 'Data type',\r\n                dataIndex: 'DataType',\r\n                render: () =>\r\n                    <div className=\"site-input-group-wrapper\">\r\n                        <Select defaultValue=\"Abc\">\r\n                            <Option value=\"Abc\">Abc</Option>\r\n                            <Option value=\"123\">123</Option>\r\n                            <Option value=\"%\">%</Option>\r\n\r\n                        </Select>\r\n                    </div>\r\n\r\n            },\r\n\r\n            {\r\n                title: 'Actions',\r\n                dataIndex: 'operation',\r\n                render: (_, record) =>\r\n                    this.state.dataSource.length >= 1 ? (\r\n                        <Popconfirm title=\"Sure to delete?\" onConfirm={() => this.handleDelete(record.key)}>\r\n                            <a><DeleteOutlined /></a>\r\n                        </Popconfirm>\r\n                    ) : null,\r\n            },\r\n        ];\r\n        this.state = {\r\n            dataSource: [\r\n                {\r\n                    key: '0',\r\n                    ColumnName: 'Investor #',\r\n                    DataType: 'Abc',\r\n\r\n                },\r\n                {\r\n                    key: '1',\r\n                    ColumnName: 'Investor Name',\r\n                    DataType: 'Abc',\r\n                },\r\n            ],\r\n            count: 2,\r\n        };\r\n    }\r\n\r\n    handleDelete = (key) => {\r\n        const dataSource = [...this.state.dataSource];\r\n        this.setState({\r\n            dataSource: dataSource.filter((item) => item.key !== key),\r\n        });\r\n    };\r\n    handleAdd = () => {\r\n        const { count, dataSource } = this.state;\r\n        const newData = {\r\n            key: count,\r\n            name: `Edward King ${count}`,\r\n            age: '32',\r\n\r\n        };\r\n        this.setState({\r\n            dataSource: [...dataSource, newData],\r\n            count: count + 1,\r\n        });\r\n    };\r\n    handleSave = (row) => {\r\n        const newData = [...this.state.dataSource];\r\n        const index = newData.findIndex((item) => row.key === item.key);\r\n        const item = newData[index];\r\n        newData.splice(index, 1, { ...item, ...row });\r\n        this.setState({\r\n            dataSource: newData,\r\n        });\r\n    };\r\n\r\n    render() {\r\n        const { dataSource } = this.state;\r\n        const components = {\r\n            body: {\r\n                row: EditableRow,\r\n                cell: EditableCell,\r\n            },\r\n        };\r\n        const columns = this.columns.map((col) => {\r\n            if (!col.editable) {\r\n                return col;\r\n            }\r\n\r\n            return {\r\n                ...col,\r\n                onCell: (record) => ({\r\n                    record,\r\n                    editable: col.editable,\r\n                    dataIndex: col.dataIndex,\r\n                    title: col.title,\r\n                    handleSave: this.handleSave,\r\n                }),\r\n            };\r\n        });\r\n        return (\r\n            <div>\r\n\r\n                <Table\r\n                    components={components}\r\n                    rowClassName={() => 'editable-row'}\r\n                    bordered\r\n                    dataSource={dataSource}\r\n                    columns={columns}\r\n                    pagination={{ defaultPageSize: 10, hideOnSinglePage: true }}\r\n                    style={{\r\n                        margin: 0,\r\n                    }}\r\n                />\r\n                <Button\r\n                    onClick={this.handleAdd}\r\n                    type=\"primary\"\r\n\r\n                    style={{\r\n                        marginLeft: 0,\r\n                        marginTop: 10,\r\n                      \r\n                    }}\r\n                >\r\n                    Add a row\r\n          </Button>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default EditableTable;\r\n\r\n"]},"metadata":{},"sourceType":"module"}