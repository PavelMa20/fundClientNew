{"ast":null,"code":"import _toConsumableArray from\"D:/WebReact/fundclient/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"D:/WebReact/fundclient/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"D:/WebReact/fundclient/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"D:/WebReact/fundclient/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"D:/WebReact/fundclient/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _regeneratorRuntime from\"D:/WebReact/fundclient/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/WebReact/fundclient/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"D:/WebReact/fundclient/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"D:/WebReact/fundclient/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"D:/WebReact/fundclient/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectWithoutProperties from\"D:/WebReact/fundclient/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import React,{useContext,useState,useEffect,useRef}from'react';import{Table,Input,Popconfirm,Form,Select,DatePicker,Space}from'antd';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Option=Select.Option;var EditableContext=/*#__PURE__*/React.createContext(null);var EditableRow=function EditableRow(_ref){var index=_ref.index,props=_objectWithoutProperties(_ref,[\"index\"]);var _Form$useForm=Form.useForm(),_Form$useForm2=_slicedToArray(_Form$useForm,1),form=_Form$useForm2[0];return/*#__PURE__*/_jsx(Form,{form:form,component:false,children:/*#__PURE__*/_jsx(EditableContext.Provider,{value:form,children:/*#__PURE__*/_jsx(\"tr\",_objectSpread({},props))})});};var EditableCell=function EditableCell(_ref2){var title=_ref2.title,editable=_ref2.editable,children=_ref2.children,dataIndex=_ref2.dataIndex,record=_ref2.record,handleSave=_ref2.handleSave,restProps=_objectWithoutProperties(_ref2,[\"title\",\"editable\",\"children\",\"dataIndex\",\"record\",\"handleSave\"]);var _useState=useState(false),_useState2=_slicedToArray(_useState,2),editing=_useState2[0],setEditing=_useState2[1];var inputRef=useRef(null);var form=useContext(EditableContext);useEffect(function(){if(editing){inputRef.current.focus();}},[editing]);var toggleEdit=function toggleEdit(){setEditing(!editing);form.setFieldsValue(_defineProperty({},dataIndex,record[dataIndex]));};var save=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var values;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return form.validateFields();case 3:values=_context.sent;toggleEdit();handleSave(_objectSpread(_objectSpread({},record),values));_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log('Save failed:',_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function save(){return _ref3.apply(this,arguments);};}();var childNode=children;if(editable){childNode=editing?/*#__PURE__*/_jsx(Form.Item,{style:{margin:0},name:dataIndex,rules:[{required:true,message:\"\".concat(title,\" is required.\")}],children:/*#__PURE__*/_jsx(Input,{ref:inputRef,onPressEnter:save,onBlur:save})}):/*#__PURE__*/_jsx(\"div\",{className:\"editable-cell-value-wrap\",style:{paddingRight:24},onClick:toggleEdit,children:children});}return/*#__PURE__*/_jsx(\"td\",_objectSpread(_objectSpread({},restProps),{},{children:childNode}));};var UpTable=/*#__PURE__*/function(_React$Component){_inherits(UpTable,_React$Component);var _super=_createSuper(UpTable);function UpTable(props){var _this;_classCallCheck(this,UpTable);_this=_super.call(this,props);_this.handleSave=function(row){var newData=_toConsumableArray(_this.state.dataSource);var index=newData.findIndex(function(item){return row.key===item.key;});var item=newData[index];newData.splice(index,1,_objectSpread(_objectSpread({},item),row));_this.setState({dataSource:newData});};_this.columns=[// {\n//     title: 'Fund',\n//     dataIndex: 'name',\n//     width: '20%',\n//     render: () =>\n//         <div className=\"site-input-group-wrapper\">\n//             <Select defaultValue=\"Abc\">\n//                 <Option value=\"Abc\">Abc</Option>\n//                 <Option value=\"123\">123</Option>\n//                 <Option value=\"%\">%</Option>\n//             </Select>\n//         </div>\n// },\n{title:'Document type',dataIndex:'DocumentType',render:function render(){return/*#__PURE__*/_jsx(\"div\",{className:\"site-input-group-wrapper\",children:/*#__PURE__*/_jsxs(Select,{defaultValue:\"CapitalCall\",style:{minWidth:160},onChange:function onChange(value){return _this.setState({docType:value});},children:[/*#__PURE__*/_jsx(Option,{value:\"CapitalCall\",children:\"Capital Call\"}),\" //Numeric\",/*#__PURE__*/_jsx(Option,{value:\"CapitalAccount\",children:\"Capital Account\"}),\" //Periodic\",/*#__PURE__*/_jsx(Option,{value:\"CatchUpCall\",children:\"Catch-Up Call\"}),\" //Numeric\",/*#__PURE__*/_jsx(Option,{value:\"K1\",children:\"K-1\"}),\" //Periodic\"]})});}},{title:'Periodic or Numeric?',dataIndex:'PeriodicorNumeric',render:function render(){return/*#__PURE__*/_jsx(\"div\",{children:_this.checkTableValue(_this.state.docType)});}},{title:'Document Number',dataIndex:'DocumentNumber',name:'documentNumber',render:function render(){return/*#__PURE__*/_jsx(\"div\",{className:\"site-input-group-wrapper\",children:/*#__PURE__*/_jsxs(Select,{defaultValue:\"1\",children:[/*#__PURE__*/_jsx(Option,{value:\"1\",children:\"1\"}),/*#__PURE__*/_jsx(Option,{value:\"2\",children:\"2\"}),/*#__PURE__*/_jsx(Option,{value:\"3\",children:\"3\"}),/*#__PURE__*/_jsx(Option,{value:\"4\",children:\"4\"}),/*#__PURE__*/_jsx(Option,{value:\"5\",children:\"5\"}),/*#__PURE__*/_jsx(Option,{value:\"6\",children:\"6\"}),/*#__PURE__*/_jsx(Option,{value:\"7\",children:\"7\"}),/*#__PURE__*/_jsx(Option,{value:\"8\",children:\"8\"}),/*#__PURE__*/_jsx(Option,{value:\"9\",children:\"9\"}),/*#__PURE__*/_jsx(Option,{value:\"10\",children:\"10\"}),/*#__PURE__*/_jsx(Option,{value:\"11\",children:\"11\"}),/*#__PURE__*/_jsx(Option,{value:\"12\",children:\"12\"}),/*#__PURE__*/_jsx(Option,{value:\"13\",children:\"13\"}),/*#__PURE__*/_jsx(Option,{value:\"14\",children:\"14\"}),/*#__PURE__*/_jsx(Option,{value:\"15\",children:\"15\"}),/*#__PURE__*/_jsx(Option,{value:\"16\",children:\"16\"}),/*#__PURE__*/_jsx(Option,{value:\"17\",children:\"17\"}),/*#__PURE__*/_jsx(Option,{value:\"18\",children:\"18\"}),/*#__PURE__*/_jsx(Option,{value:\"19\",children:\"19\"}),/*#__PURE__*/_jsx(Option,{value:\"20\",children:\"20\"})]})});}},{title:'Quarter',dataIndex:'quarter',name:'quarter',render:function render(){return/*#__PURE__*/_jsx(\"div\",{className:\"site-input-group-wrapper\",children:/*#__PURE__*/_jsxs(Select,{defaultValue:\"Q1\",children:[/*#__PURE__*/_jsx(Option,{value:\"Q1\",children:\"Q1\"}),/*#__PURE__*/_jsx(Option,{value:\"Q2\",children:\"Q2\"}),/*#__PURE__*/_jsx(Option,{value:\"Q3\",children:\"Q3\"}),/*#__PURE__*/_jsx(Option,{value:\"Q4\",children:\"Q4\"})]})});}},{title:'Year',dataIndex:'year',name:'year',render:function render(){return/*#__PURE__*/_jsx(\"div\",{className:\"site-input-group-wrapper\",children:/*#__PURE__*/_jsx(Space,{direction:\"vertical\",size:12,children:/*#__PURE__*/_jsx(DatePicker,{picker:\"year\",bordered:false})})});}},{title:'Name the ',dataIndex:'DocumentName',editable:true,render:function render(){return/*#__PURE__*/_jsx(Input,{placeholder:\"Basic usage\",style:{marginLeft:20}});}}];_this.state={docType:\" \",dataSource:[{}],count:1};return _this;}_createClass(UpTable,[{key:\"checkType\",value:function checkType(){if(this.checkTableValue(this.state.docType)===\"numeric\"){return true;}}},{key:\"checkTableValue\",value:function checkTableValue(value){console.log(value);if(value==\"CapitalCall\"){return\"Numeric\";}else if(value==\"CatchUpCall\"){return\"Numeric\";}else if(value==\"CapitalAccount\"){return\"Periodic\";}else if(value==\"K1\"){return\"Periodic\";}}},{key:\"render\",value://const columnsToPassToTable =  this.columns.filter(column => this.checkTableValue(this.state.docType) !== 'Periodic' || column.name !== 'documentNumber');\nfunction render(){var _this2=this;var columnsToPassToTable=this.columns.filter(function(column){if(_this2.checkTableValue(_this2.state.docType)==='Periodic'){return column.name!=='documentNumber';}if(_this2.checkTableValue(_this2.state.docType)==='Numeric'){return column.name!=='quarter'&&column.name!=='year';}return true;});var dataSource=this.state.dataSource;console.log(dataSource);var components={body:{row:EditableRow,cell:EditableCell}};var columns=this.columns.map(function(col){if(!col.editable){return col;}return _objectSpread(_objectSpread({},col),{},{onCell:function onCell(record){return{record:record,editable:col.editable,dataIndex:col.dataIndex,title:col.title,handleSave:_this2.handleSave};}});});return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Table,{components:components,rowClassName:function rowClassName(){return'editable-row';},bordered:true,dataSource:dataSource,columns:columnsToPassToTable,pagination:{defaultPageSize:10,hideOnSinglePage:true},style:{margin:20}})});}}]);return UpTable;}(React.Component);export default UpTable;","map":{"version":3,"sources":["D:/WebReact/fundclient/src/components/UpTable/UpTable.js"],"names":["React","useContext","useState","useEffect","useRef","Table","Input","Popconfirm","Form","Select","DatePicker","Space","Option","EditableContext","createContext","EditableRow","index","props","useForm","form","EditableCell","title","editable","children","dataIndex","record","handleSave","restProps","editing","setEditing","inputRef","current","focus","toggleEdit","setFieldsValue","save","validateFields","values","console","log","childNode","margin","required","message","paddingRight","UpTable","row","newData","state","dataSource","findIndex","item","key","splice","setState","columns","render","minWidth","value","docType","checkTableValue","name","marginLeft","count","columnsToPassToTable","filter","column","components","body","cell","map","col","onCell","defaultPageSize","hideOnSinglePage","Component"],"mappings":"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","sourcesContent":["import React, { useContext, useState, useEffect, useRef } from 'react';\r\nimport { Table, Input, Popconfirm, Form, Select, DatePicker, Space } from 'antd';\r\nconst { Option } = Select;\r\n\r\n\r\nconst EditableContext = React.createContext(null);\r\n\r\nconst EditableRow = ({ index, ...props }) => {\r\n    const [form] = Form.useForm();\r\n    return (\r\n        <Form form={form} component={false}>\r\n            <EditableContext.Provider value={form}>\r\n                <tr {...props} />\r\n            </EditableContext.Provider>\r\n        </Form>\r\n    );\r\n};\r\n\r\nconst EditableCell = ({\r\n    title,\r\n    editable,\r\n    children,\r\n    dataIndex,\r\n    record,\r\n    handleSave,\r\n    ...restProps\r\n}) => {\r\n    const [editing, setEditing] = useState(false);\r\n    const inputRef = useRef(null);\r\n    const form = useContext(EditableContext);\r\n\r\n    useEffect(() => {\r\n        if (editing) {\r\n            inputRef.current.focus();\r\n        }\r\n    }, [editing]);\r\n\r\n    const toggleEdit = () => {\r\n        setEditing(!editing);\r\n        form.setFieldsValue({\r\n            [dataIndex]: record[dataIndex],\r\n        });\r\n    };\r\n\r\n    const save = async () => {\r\n        try {\r\n            const values = await form.validateFields();\r\n            toggleEdit();\r\n            handleSave({ ...record, ...values });\r\n        } catch (errInfo) {\r\n            console.log('Save failed:', errInfo);\r\n        }\r\n    };\r\n\r\n\r\n    let childNode = children;\r\n\r\n    if (editable) {\r\n        childNode = editing ? (\r\n            <Form.Item\r\n                style={{\r\n                    margin: 0,\r\n                }}\r\n                name={dataIndex}\r\n                rules={[\r\n                    {\r\n                        required: true,\r\n                        message: `${title} is required.`,\r\n                    },\r\n                ]}\r\n            >\r\n                <Input ref={inputRef} onPressEnter={save} onBlur={save} />\r\n            </Form.Item>\r\n        ) : (\r\n            <div\r\n                className=\"editable-cell-value-wrap\"\r\n                style={{\r\n                    paddingRight: 24,\r\n                }}\r\n                onClick={toggleEdit}\r\n            >\r\n                {children}\r\n            </div>\r\n        );\r\n    }\r\n\r\n\r\n    return <td {...restProps}>{childNode}</td>;\r\n};\r\n\r\n\r\nclass UpTable extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.columns = [\r\n            // {\r\n            //     title: 'Fund',\r\n            //     dataIndex: 'name',\r\n            //     width: '20%',\r\n            //     render: () =>\r\n            //         <div className=\"site-input-group-wrapper\">\r\n            //             <Select defaultValue=\"Abc\">\r\n            //                 <Option value=\"Abc\">Abc</Option>\r\n            //                 <Option value=\"123\">123</Option>\r\n            //                 <Option value=\"%\">%</Option>\r\n\r\n            //             </Select>\r\n            //         </div>\r\n            // },\r\n            {\r\n                title: 'Document type',\r\n                dataIndex: 'DocumentType',\r\n                render: () =>\r\n                    <div className=\"site-input-group-wrapper\">\r\n                        <Select defaultValue=\"CapitalCall\"    style={{ minWidth: 160,}} onChange={value => this.setState({\r\n                            docType: value\r\n                        })}>\r\n                            <Option value=\"CapitalCall\">Capital Call</Option> //Numeric\r\n                            <Option value=\"CapitalAccount\">Capital Account</Option> //Periodic\r\n                            <Option value=\"CatchUpCall\">Catch-Up Call</Option> //Numeric \r\n                            <Option value=\"K1\">K-1</Option> //Periodic\r\n\r\n                        </Select>\r\n                    </div>\r\n            },\r\n            {\r\n                title: 'Periodic or Numeric?',\r\n                dataIndex: 'PeriodicorNumeric',\r\n                render: () =>\r\n                       \r\n                    <div >\r\n                        \r\n                       \r\n                        {this.checkTableValue(this.state.docType)}\r\n                        </div>\r\n\r\n\r\n            },\r\n            {\r\n                title: 'Document Number',\r\n                dataIndex: 'DocumentNumber',\r\n                name: 'documentNumber',\r\n\r\n                render: () =>\r\n                    <div className=\"site-input-group-wrapper\">\r\n\r\n                        <Select defaultValue=\"1\">\r\n                            <Option value=\"1\">1</Option>\r\n                            <Option value=\"2\">2</Option>\r\n                            <Option value=\"3\">3</Option>\r\n                            <Option value=\"4\">4</Option>\r\n                            <Option value=\"5\">5</Option>\r\n                            <Option value=\"6\">6</Option>\r\n                            <Option value=\"7\">7</Option>\r\n                            <Option value=\"8\">8</Option>\r\n                            <Option value=\"9\">9</Option>\r\n                            <Option value=\"10\">10</Option>\r\n                            <Option value=\"11\">11</Option>\r\n                            <Option value=\"12\">12</Option>\r\n                            <Option value=\"13\">13</Option>\r\n                            <Option value=\"14\">14</Option>\r\n                            <Option value=\"15\">15</Option>\r\n                            <Option value=\"16\">16</Option>\r\n                            <Option value=\"17\">17</Option>\r\n                            <Option value=\"18\">18</Option>\r\n                            <Option value=\"19\">19</Option>\r\n                            <Option value=\"20\">20</Option>\r\n                        </Select>\r\n\r\n\r\n                    </div>\r\n            }, {\r\n                title: 'Quarter',\r\n                dataIndex: 'quarter',\r\n                name: 'quarter',\r\n\r\n\r\n                render: () =>\r\n                    <div className=\"site-input-group-wrapper\">\r\n\r\n                        <Select defaultValue=\"Q1\">\r\n                            <Option value=\"Q1\">Q1</Option>\r\n                            <Option value=\"Q2\">Q2</Option>\r\n                            <Option value=\"Q3\">Q3</Option>\r\n                            <Option value=\"Q4\">Q4</Option>\r\n                        </Select>\r\n\r\n                    </div>\r\n\r\n            }, {\r\n                title: 'Year',\r\n                dataIndex: 'year',\r\n                name: 'year',\r\n\r\n\r\n                render: () =>\r\n                    <div className=\"site-input-group-wrapper\">\r\n\r\n                        <Space direction=\"vertical\" size={12}>\r\n                            <DatePicker picker=\"year\" bordered={false} />\r\n                        </Space>\r\n\r\n\r\n                    </div>\r\n\r\n            },\r\n            {\r\n                title: 'Name the ',\r\n                dataIndex: 'DocumentName',\r\n                editable: true,\r\n                render:() => \r\n                <Input placeholder=\"Basic usage\"  style={{\r\n                    marginLeft: 20,\r\n                }}/>\r\n            },\r\n\r\n        ];\r\n        this.state = {\r\n            docType: \" \",\r\n            dataSource: [\r\n                {\r\n                  \r\n                },\r\n            ],\r\n            count: 1,\r\n        };\r\n    }\r\n    checkType() {\r\n        if (this.checkTableValue(this.state.docType) === \"numeric\") {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    checkTableValue(value) {\r\n        console.log(value);\r\n        if (value == \"CapitalCall\") {\r\n            return (\"Numeric\")\r\n        } else if (value == \"CatchUpCall\") {\r\n            return (\"Numeric\")\r\n        } else if (value == \"CapitalAccount\") {\r\n            return (\"Periodic\")\r\n        } else if (value == \"K1\") {\r\n            return (\"Periodic\")\r\n        }\r\n    }\r\n\r\n\r\n    handleSave = (row) => {\r\n        const newData = [...this.state.dataSource];\r\n        const index = newData.findIndex((item) => row.key === item.key);\r\n        const item = newData[index];\r\n        newData.splice(index, 1, { ...item, ...row });\r\n        this.setState({\r\n            dataSource: newData,\r\n        });\r\n    };\r\n    \r\n\r\n           //const columnsToPassToTable =  this.columns.filter(column => this.checkTableValue(this.state.docType) !== 'Periodic' || column.name !== 'documentNumber');\r\n          \r\n    render() {\r\n        \r\n        const columnsToPassToTable = this.columns.filter(column => {\r\n            if (this.checkTableValue(this.state.docType) === 'Periodic') {\r\n               return column.name !== 'documentNumber';\r\n             }\r\n           \r\n             if (this.checkTableValue(this.state.docType) === 'Numeric') {\r\n               return column.name !== 'quarter' && column.name !== 'year';\r\n             }\r\n           \r\n             return true;\r\n           })\r\n        const { dataSource } = this.state;\r\n        console.log(dataSource);\r\n        const components = {\r\n            body: {\r\n                row: EditableRow,\r\n                cell: EditableCell,\r\n            },\r\n        };\r\n        const columns = this.columns.map((col) => {\r\n            if (!col.editable) {\r\n                return col;\r\n            }\r\n\r\n\r\n            return {\r\n                ...col,\r\n                onCell: (record) => ({\r\n                    record,\r\n                    editable: col.editable,\r\n                    dataIndex: col.dataIndex,\r\n                    title: col.title,\r\n                    handleSave: this.handleSave,\r\n                }),\r\n            };\r\n        });\r\n        return (\r\n            <div>\r\n                <Table\r\n                    components={components}\r\n                    rowClassName={() => 'editable-row'}\r\n                    bordered\r\n                    dataSource={dataSource}\r\n                    columns={columnsToPassToTable}\r\n                    pagination={{ defaultPageSize: 10, hideOnSinglePage: true }}\r\n                    style={{\r\n                        margin: 20,\r\n                    }}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n}\r\nexport default UpTable;"]},"metadata":{},"sourceType":"module"}