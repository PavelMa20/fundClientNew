{"ast":null,"code":"import _classCallCheck from\"D:/WebReact/fundclient/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"D:/WebReact/fundclient/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"D:/WebReact/fundclient/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"D:/WebReact/fundclient/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{BrowserRouter as Router,Route}from'react-router-dom';import{Provider}from'react-redux';import store from'./store';import jwt_decode from'jwt-decode';import setAuthToken from'./setAuthToken';import{setCurrentUser,logoutUser}from'./actions/authentication';import Navbar from'./components/Navbar';import Register from'./components/Register';import Login from'./components/Login';import Home from'./components/Home';import'./App.css';import'bootstrap/dist/css/bootstrap.min.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";if(localStorage.jwtToken){setAuthToken(localStorage.jwtToken);var decoded=jwt_decode(localStorage.jwtToken);store.dispatch(setCurrentUser(decoded));var currentTime=Date.now()/1000;if(decoded.exp<currentTime){store.dispatch(logoutUser());window.location.href='/login';}}var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){_classCallCheck(this,App);return _super.apply(this,arguments);}_createClass(App,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(Provider,{store:store,children:/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"navi\",children:[\" \",/*#__PURE__*/_jsx(Navbar,{})]}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/dashboard\",component:Home}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/register\",component:Register}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/login\",component:Login})]})]})})});}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["D:/WebReact/fundclient/src/App.js"],"names":["React","Component","BrowserRouter","Router","Route","Provider","store","jwt_decode","setAuthToken","setCurrentUser","logoutUser","Navbar","Register","Login","Home","localStorage","jwtToken","decoded","dispatch","currentTime","Date","now","exp","window","location","href","App"],"mappings":"oiBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,aAAa,GAAIC,CAAAA,MAA1B,CAAkCC,KAAlC,KAA+C,kBAA/C,CACA,OAASC,QAAT,KAAyB,aAAzB,CACA,MAAOC,CAAAA,KAAP,KAAkB,SAAlB,CACA,MAAOC,CAAAA,UAAP,KAAuB,YAAvB,CACA,MAAOC,CAAAA,YAAP,KAAyB,gBAAzB,CACA,OAASC,cAAT,CAAyBC,UAAzB,KAA2C,0BAA3C,CAEA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,CACA,MAAOC,CAAAA,QAAP,KAAqB,uBAArB,CACA,MAAOC,CAAAA,KAAP,KAAkB,oBAAlB,CACA,MAAOC,CAAAA,IAAP,KAAiB,mBAAjB,CACA,MAAO,WAAP,CACA,MAAO,sCAAP,C,wFAEA,GAAGC,YAAY,CAACC,QAAhB,CAA0B,CACxBR,YAAY,CAACO,YAAY,CAACC,QAAd,CAAZ,CACA,GAAMC,CAAAA,OAAO,CAAGV,UAAU,CAACQ,YAAY,CAACC,QAAd,CAA1B,CACAV,KAAK,CAACY,QAAN,CAAeT,cAAc,CAACQ,OAAD,CAA7B,EAEA,GAAME,CAAAA,WAAW,CAAGC,IAAI,CAACC,GAAL,GAAa,IAAjC,CACA,GAAGJ,OAAO,CAACK,GAAR,CAAcH,WAAjB,CAA8B,CAC5Bb,KAAK,CAACY,QAAN,CAAeR,UAAU,EAAzB,EACAa,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAuB,QAAvB,CACD,CACF,C,GAEKC,CAAAA,G,8MACJ,iBAAS,CACP,mBACE,KAAC,QAAD,EAAU,KAAK,CAAKpB,KAApB,uBACE,KAAC,MAAD,wBACI,oCACC,aAAK,SAAS,CAAC,MAAf,4BAAwB,KAAC,MAAD,IAAxB,GADD,cAEI,KAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,YAAlB,CAA+B,SAAS,CAAGQ,IAA3C,EAFJ,cAGI,aAAK,SAAS,CAAC,WAAf,wBACE,KAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,WAAlB,CAA8B,SAAS,CAAGF,QAA1C,EADF,cAEE,KAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,QAAlB,CAA2B,SAAS,CAAGC,KAAvC,EAFF,GAHJ,GADJ,EADF,EADF,CAcD,C,iBAhBeZ,S,EAmBlB,cAAeyB,CAAAA,GAAf","sourcesContent":["import React, { Component } from 'react';\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport store from './store';\nimport jwt_decode from 'jwt-decode';\nimport setAuthToken from './setAuthToken';\nimport { setCurrentUser, logoutUser } from './actions/authentication';\n\nimport Navbar from './components/Navbar';\nimport Register from './components/Register';\nimport Login from './components/Login';\nimport Home from './components/Home';\nimport './App.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nif(localStorage.jwtToken) {\n  setAuthToken(localStorage.jwtToken);\n  const decoded = jwt_decode(localStorage.jwtToken);\n  store.dispatch(setCurrentUser(decoded));\n\n  const currentTime = Date.now() / 1000;\n  if(decoded.exp < currentTime) {\n    store.dispatch(logoutUser());\n    window.location.href = '/login'\n  }\n}\n\nclass App extends Component {\n  render() {\n    return (\n      <Provider store = { store }>\n        <Router>\n            <div>\n             <div className=\"navi\" > <Navbar /></div>\n                <Route exact path=\"/dashboard\" component={ Home } />\n                <div className=\"container\">\n                  <Route exact path=\"/register\" component={ Register } />\n                  <Route exact path=\"/login\" component={ Login } />\n                </div>\n            </div>\n          </Router>\n        </Provider>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}